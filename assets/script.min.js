!function(){"use strict";const e=function(e){return getComputedStyle(document.body).getPropertyValue(e)},t=function(e){return new Promise((t=>setTimeout(t,e)))},s={active:!1,set setActive(e){this.active=e}},n="eather-header__dropdown-item--active";parseInt(e("--md"));const a=parseInt(e("--animate-duration")),i=function(){document.querySelectorAll("[data-nav-item]").forEach((e=>e.classList.remove(n)));document.querySelectorAll("[data-nav]").forEach((e=>e.classList.remove("active")))},r=function(){document.querySelectorAll("[data-nav-item]").forEach((e=>{const t=()=>{const t=e.getAttribute("data-nav-item"),s=document.querySelector(`[data-nav="${t}"]`);i(),e.classList.add(n),s.classList.add("active")};e.addEventListener("mouseover",(()=>t())),e.addEventListener("click",(()=>t()))})),document.querySelectorAll("[data-nav-dropdown]").forEach((e=>e.addEventListener("mouseleave",(()=>i())))),function(){const e=document.querySelector("[data-nav]"),n=document.querySelector("[data-nav-btn]");if(!e||!n)return;const i=e.getBoundingClientRect(),r=async()=>{e.classList.add("animate__slideOutLeft"),await t(a),document.body.classList.remove("nav-active"),e.classList.remove("animate__slideInLeft"),e.classList.remove("animate__slideOutLeft"),s.setActive=!1};n.addEventListener("click",(async()=>{if(!s.active)return document.body.classList.add("nav-active"),e.classList.add("animate__slideInLeft"),await t(a),void(s.setActive=!0);r()})),document.body.addEventListener("click",(e=>{e.clientX;const t=e.clientY;s.active&&(console.log(i.y,i.bottom,t),(t<i.top||t>i.bottom)&&r())})),window.addEventListener("resize",(()=>{}))}()},o=async e=>{try{const t=await fetch(`/search/suggest?q=${e}&resources[type]=product&resources[limit]=4&section_id=predictive-search`);if(!t.ok)throw new Error(t.status);const s=await t.text();return(new DOMParser).parseFromString(s,"text/html").querySelector("#shopify-section-predictive-search").innerHTML}catch(e){return e}},c="form__input--searching",d="animate__fadeIn",u="animate__fadeOut",l=parseInt(e("--animate-duration")),m={forms:{},results:null,set initForms(e){if(!e)return;const t={};e.forEach(((e,s)=>{e.addEventListener("submit",(e=>e.preventDefault()));const n=e.querySelector("input"),a=e.querySelector(".form__search-results");t[s]={form:e,input:n,results:a},t[s].input.addEventListener("keyup",v.bind(n,s))})),this.forms=t},set setResults(e){e&&(this.results=e,f())}},v=async function(e){const t=this.parentElement;let s=null;if(clearTimeout(s),!this.value)return s=null,void L();t.classList.add(c),s=setTimeout((async()=>{const s=await o(this.value);m.setResults={id:e,results:s},t.classList.remove(c)}),500)},f=function(){if(!m.results)return;const{id:e,results:t}=m.results,s=m.forms[e].results;s.innerHTML=t,s.classList.remove(u),s.classList.add(d)},L=async function(){if(!m.results)return;const{results:e,id:s}=m.results,n=m.forms[s].results;n.classList.add(u),await t(l),n.innerHTML="",n.classList.remove(u),n.classList.remove(d)};window.onload=async function(){console.log("--Initializing Scripts"),document.documentElement.className=document.documentElement.className.replace("no-js","js"),Shopify.designMode&&document.documentElement.classList.add("shopify-design-mode"),r(),async function(){const e=document.querySelectorAll(".feather-header__search form");m.initForms=e}(),console.log("--Scripts Loaded")}}();
//# sourceMappingURL=script.min.js.map
