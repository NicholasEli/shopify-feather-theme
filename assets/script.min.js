!function(){"use strict";const e=function(e){return getComputedStyle(document.body).getPropertyValue(e)},t=function(e){return new Promise((t=>setTimeout(t,e)))},s={active:!1,set setActive(e){this.active=e}},n="eather-header__dropdown-item--active";parseInt(e("--md"));const i=parseInt(e("--animate-duration")),r=function(){document.querySelectorAll("[data-nav-item]").forEach((e=>e.classList.remove(n)));document.querySelectorAll("[data-nav]").forEach((e=>e.classList.remove("active")))},a=function(){const e=document.querySelector("header"),n=document.querySelector("[data-nav]"),r=document.querySelector("[data-nav-btn]");if(!n||!r)return;const a=e.getBoundingClientRect().bottom;n.getBoundingClientRect();r.addEventListener("click",(async()=>{if(!s.active)return document.body.classList.add("nav-active"),n.style.top=a+"px",n.style.height=window.innerHeight-a+"px",n.classList.add("animate__slideInLeft"),await t(i),void(s.setActive=!0);(async()=>{n.classList.add("animate__slideOutLeft"),await t(i),document.body.classList.remove("nav-active"),n.classList.remove("animate__slideInLeft"),n.classList.remove("animate__slideOutLeft"),s.setActive=!1})()})),window.addEventListener("resize",(()=>{}))},c=function(){document.querySelectorAll("[data-nav-item]").forEach((e=>{const t=()=>{const t=e.getAttribute("data-nav-item"),s=document.querySelector(`[data-nav="${t}"]`);s&&(r(),e.classList.add(n),s.classList.add("active"))};e.addEventListener("mouseover",(()=>t())),e.addEventListener("click",(()=>t()))})),document.querySelectorAll("[data-nav-dropdown]").forEach((e=>e.addEventListener("mouseleave",(()=>r())))),a()},o=async e=>{try{const t=await fetch(`/search/suggest?q=${e}&resources[type]=product&resources[limit]=4&section_id=predictive-search`);if(!t.ok)throw new Error(t.status);const s=await t.text();return(new DOMParser).parseFromString(s,"text/html").querySelector("#shopify-section-predictive-search").innerHTML}catch(e){return e}},u="form__input--searching",d="animate__fadeIn",l="animate__fadeOut",m=parseInt(e("--animate-duration")),v={forms:{},results:null,set initForms(e){if(!e)return;const t={};e.forEach(((e,s)=>{e.addEventListener("submit",(e=>e.preventDefault()));const n=e.querySelector("input"),i=e.querySelector(".form__search-results");t[s]={form:e,input:n,results:i},t[s].input.addEventListener("keyup",f.bind(n,s))})),this.forms=t},set setResults(e){this.results=e,e&&h()}},f=async function(e){const t=this.parentElement;let s=null;if(clearTimeout(s),!this.value)return s=null,void L();t.classList.add(u),s=setTimeout((async()=>{const s=await o(this.value);v.setResults={id:e,results:s},t.classList.remove(u)}),500)},h=function(){if(!v.results)return;const{id:e,results:t}=v.results,s=v.forms[e].results;s.innerHTML=t,s.classList.remove(l),s.classList.add(d);const n=e=>{const{x:t,y:i,width:r,height:a}=s.getBoundingClientRect(),{clientX:c,clientY:o}=e;(c<t||c>t+r)&&(L(),document.removeEventListener("click",n)),(o<i||o>i+a)&&(L(),document.removeEventListener("click",n))};document.addEventListener("click",n)},L=async function(){if(!v.results)return;const{results:e,id:s}=v.results,n=v.forms[s].input,i=v.forms[s].results;n.value="",v.setResults=null,i.classList.add(l),await t(m),i.innerHTML="",i.classList.remove(l),i.classList.remove(d)},y=function(){document.querySelectorAll("[data-in-view]").forEach((e=>{!function(e,t,s={}){if(!e||!t)return;new IntersectionObserver(t,s).observe(e)}(e,(t=>{t[0].isIntersecting&&e.setAttribute("data-in-view","true")}),{threshold:.75})}))};window.onload=async function(){console.log("--Initializing Scripts"),document.documentElement.className=document.documentElement.className.replace("no-js","js"),Shopify.designMode&&document.documentElement.classList.add("shopify-design-mode"),c(),async function(){const e=document.querySelectorAll(".feather-header__search form");v.initForms=e}(),y(),console.log("--Scripts Loaded")}}();
//# sourceMappingURL=script.min.js.map
