{"version":3,"file":"script.min.js","sources":["../scripts/navigation.js","../scripts/api.js","../scripts/search.js","../scripts/utils.js","../scripts/index.js"],"sourcesContent":["let isDropdownActive = false;\n\nconst clearNavItems = function () {\n\tconst navItems = document.querySelectorAll('[data-nav-item]');\n\tnavItems.forEach((navItem) => navItem.classList.remove('feather-header__dropdown-item--active'));\n\tconst menus = document.querySelectorAll('[data-nav]');\n\tmenus.forEach((menu) => menu.classList.remove('active'));\n};\n\nconst clearDropdowns = function () {\n\tconst dropdowns = document.querySelectorAll('.feather-header__dropdown');\n\n\tdropdowns.forEach((dropdown) => {\n\t\tdropdown.addEventListener('mouseenter', () => console.log('enter'));\n\t\tdropdown.addEventListener('mouseleave', () => clearNavItems());\n\t});\n};\n\nconst displayNavItems = function () {\n\tconst navItems = document.querySelectorAll('[data-nav-item]');\n\n\tnavItems.forEach((navItem) => {\n\t\tnavItem.addEventListener('mouseover', () => {\n\t\t\tconst selector = navItem.getAttribute('data-nav-item');\n\t\t\tconst nav = document.querySelector(`[data-nav=\"${selector}\"]`);\n\t\t\tclearNavItems();\n\t\t\tnavItem.classList.add('feather-header__dropdown-item--active');\n\t\t\tnav.classList.add('active');\n\t\t});\n\t});\n};\n\nexport const navigation = function () {\n\tdisplayNavItems();\n\tclearDropdowns();\n};\n","export const search = {\n\tget: async (term) => {\n\t\ttry {\n\t\t\tconst res = await fetch(\n\t\t\t\t`/search/suggest?q=${term}&resources[type]=product&resources[limit]=4&section_id=predictive-search`\n\t\t\t);\n\n\t\t\tif (!res.ok) {\n\t\t\t\tthrow new Error(res.status);\n\t\t\t}\n\n\t\t\tconst text = await res.text();\n\n\t\t\treturn new DOMParser()\n\t\t\t\t.parseFromString(text, 'text/html')\n\t\t\t\t.querySelector('#shopify-section-predictive-search').innerHTML;\n\t\t} catch (err) {\n\t\t\treturn err;\n\t\t}\n\t},\n};\n","import { search as api } from './api.js';\nimport { getCSSVariable } from './utils.js';\n\nlet time = 0;\n\nconst clearResults = function () {\n\tconst results = document.querySelectorAll('.form__search-results');\n\tresults.forEach((container) => {\n\t\tcontainer.classList.add('animate__fadeOut');\n\t\tsetTimeout(() => (container.innerHTML = ''), time);\n\t});\n};\n\nconst searchResults = async function (term, input) {\n\tif (!term || !input) return;\n\n\tconst container = input.parentElement.nextElementSibling;\n\tconst res = await api.get(term);\n\n\tcontainer.innerHTML = res;\n\tcontainer.classList.remove('animate__fadeOut');\n\tcontainer.classList.add('animate__animated');\n\tcontainer.classList.add('animate__fadeIn');\n\n\tcontainer.addEventListener('animationend', (e) => isSearching(false, input));\n};\n\nconst isSearching = function (searching, input) {\n\tif (!input) return;\n\n\tconst container = input.parentElement;\n\n\tif (searching) {\n\t\tcontainer.classList.add('form__input--searching');\n\t\treturn;\n\t}\n\n\tif (!searching) {\n\t\tcontainer.classList.remove('form__input--searching');\n\t}\n};\n\nconst searchTerm = function () {\n\tconst forms = document.querySelectorAll('.feather-header__search form');\n\tconst inputs = document.querySelectorAll('.feather-header__search input');\n\tlet timeout = null;\n\tforms.forEach((form) => form.addEventListener('submit', (e) => e.preventDefault()));\n\tinputs.forEach((input) => {\n\t\tinput.addEventListener('keyup', (e) => {\n\t\t\tconst value = e.currentTarget.value;\n\t\t\tif (!value || (value && value === '')) {\n\t\t\t\tclearTimeout(timeout);\n\t\t\t\ttimeout = null;\n\t\t\t\tclearResults();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tisSearching(true, input);\n\t\t\tclearTimeout(timeout);\n\t\t\ttimeout = setTimeout(() => {\n\t\t\t\tsearchResults(value, input);\n\t\t\t}, 500);\n\t\t});\n\t});\n};\n\nexport const search = async function () {\n\ttime = parseInt(getCSSVariable('--animate-duration'));\n\tsearchTerm();\n};\n","/**\n * Gets browser agent type\n * @return { object } { device, browser }\n * */\nexport const getNavigatorAgent = function () {\n\tconst userAgent = navigator.userAgent;\n\tlet device = null;\n\tlet browser = null;\n\n\tif (userAgent.match(/Android/i)) device = 'android';\n\tif (userAgent.match(/BlackBerry/i)) device = 'blackberry';\n\tif (userAgent.match(/iPhone|iPad|iPod/i)) device = 'ios';\n\tif (userAgent.match(/Opera Mini/i)) device = 'opera-mini';\n\tif (userAgent.match(/IEMobile/i)) device = 'ie-mobile';\n\tif (userAgent.match(/IEMobile/i)) device = 'ie-mobile';\n\n\tif (userAgent.indexOf('chrome') > -1 || userAgent.indexOf('Chrome') > -1) {\n\t\tbrowser = 'chrome';\n\t\treturn { browser, device };\n\t}\n\tif (userAgent.indexOf('firefox') > -1 || userAgent.indexOf('Firefox') > -1) {\n\t\tbrowser = 'firefox';\n\t\treturn { browser, device };\n\t}\n\tif (userAgent.indexOf('safari') > -1 || userAgent.indexOf('Safari') > -1) {\n\t\tbrowser = 'safari';\n\t\treturn { browser, device };\n\t}\n\tif (userAgent.indexOf('opr') > -1 || userAgent.indexOf('Opr') > -1) {\n\t\tbrowser = 'opera';\n\t\treturn { browser, device };\n\t}\n\tif (\n\t\tuserAgent.indexOf('edg') > -1 ||\n\t\tuserAgent.indexOf('edge') > -1 ||\n\t\tuserAgent.indexOf('Edg') > -1 ||\n\t\tuserAgent.indexOf('Edge') > -1\n\t) {\n\t\tbrowser = 'edge';\n\t\treturn { browser, device };\n\t}\n\tif (userAgent.indexOf('trident') > -1 || userAgent.indexOf('Trident') > -1) {\n\t\tbrowser = 'internet-explorer';\n\t\treturn { browser, device };\n\t}\n\n\treturn { device, browser };\n};\n\n/**\n * Gets CSS variables for usage\n * @param { string } variable name\n * */\nexport const getCSSVariable = function (variable) {\n\treturn getComputedStyle(document.body).getPropertyValue(variable);\n};\n\n/**\n * Creates intersection observe to detect when element comes into view\n * @params { object } el - dom element to monitor\n * @params { func } callback - returns event when dom element comes in and out of status\n * */\nexport const intersectionObserver = function (el, callback, options = {}) {\n\tif (!el || !callback) return;\n\tconst observer = new IntersectionObserver(callback, options);\n\tobserver.observe(el);\n};\n\n/**\n * Listens for change on element class names\n * @param { object } el - target dom element\n * @param { string } classname - class to listen for toggle on and off\n * @param { func } on - callback for active class\n * @param { func } off - callback for inactive class\n * */\nexport const classObserver = function (el, classname, on, off) {\n\tif (!el || !classname) return;\n\n\tconst observer = new MutationObserver(function (event) {\n\t\tif (el.className.indexOf(classname) > -1 && on) on();\n\t\tif (el.className.indexOf(classname) === -1 && off) off();\n\t});\n\n\tobserver.observe(el, {\n\t\tattributes: true,\n\t\tattributeFilter: ['class'],\n\t\tchildList: false,\n\t\tcharacterData: false,\n\t});\n};\n\n/**\n * Creates aribtrary wait time based on miliseconds\n * @param { int } milliseconds\n * @return { promise } resolves once time has been reached\n * */\nexport const asyncTimeout = function (ms) {\n\treturn new Promise((resolve) => setTimeout(resolve, ms));\n};\n","import { navigation } from './navigation.js';\nimport { search } from './search.js';\n\nwindow.onload = async function () {\n\tconsole.log('--Initializing Scripts');\n\n\tdocument.documentElement.className = document.documentElement.className.replace('no-js', 'js');\n\tif (Shopify.designMode) document.documentElement.classList.add('shopify-design-mode');\n\n\tnavigation();\n\tsearch();\n\n\tconsole.log('--Scripts Loaded');\n};\n"],"names":["clearNavItems","document","querySelectorAll","forEach","navItem","classList","remove","menu","navigation","addEventListener","selector","getAttribute","nav","querySelector","add","dropdown","console","log","search","async","term","res","fetch","ok","Error","status","text","DOMParser","parseFromString","innerHTML","err","time","isSearching","searching","input","container","parentElement","searchTerm","forms","inputs","timeout","form","e","preventDefault","value","currentTarget","clearTimeout","setTimeout","nextElementSibling","api","searchResults","variable","parseInt","getComputedStyle","body","getPropertyValue","window","onload","documentElement","className","replace","Shopify","designMode"],"mappings":"yBAEA,MAAMA,EAAgB,WACJC,SAASC,iBAAiB,mBAClCC,SAASC,GAAYA,EAAQC,UAAUC,OAAO,2CACzCL,SAASC,iBAAiB,cAClCC,SAASI,GAASA,EAAKF,UAAUC,OAAO,aA0BlCE,EAAa,WAbRP,SAASC,iBAAiB,mBAElCC,SAASC,IACjBA,EAAQK,iBAAiB,aAAa,KACrC,MAAMC,EAAWN,EAAQO,aAAa,iBAChCC,EAAMX,SAASY,cAAc,cAAcH,OACjDV,IACAI,EAAQC,UAAUS,IAAI,yCACtBF,EAAIP,UAAUS,IAAI,gBAjBFb,SAASC,iBAAiB,6BAElCC,SAASY,IAClBA,EAASN,iBAAiB,cAAc,IAAMO,QAAQC,IAAI,WAC1DF,EAASN,iBAAiB,cAAc,IAAMT,UCdnCkB,EACPC,MAAOC,IACX,IACC,MAAMC,QAAYC,MACjB,qBAAqBF,6EAGtB,IAAKC,EAAIE,GACR,MAAM,IAAIC,MAAMH,EAAII,QAGrB,MAAMC,QAAaL,EAAIK,OAEvB,OAAO,IAAIC,WACTC,gBAAgBF,EAAM,aACtBb,cAAc,sCAAsCgB,UACrD,MAAOC,GACR,OAAOA,ICdV,IAAIC,EAAO,EAEX,MAsBMC,EAAc,SAAUC,EAAWC,GACxC,IAAKA,EAAO,OAEZ,MAAMC,EAAYD,EAAME,cAEpBH,EACHE,EAAU9B,UAAUS,IAAI,0BAIpBmB,GACJE,EAAU9B,UAAUC,OAAO,2BAIvB+B,EAAa,WAClB,MAAMC,EAAQrC,SAASC,iBAAiB,gCAClCqC,EAAStC,SAASC,iBAAiB,iCACzC,IAAIsC,EAAU,KACdF,EAAMnC,SAASsC,GAASA,EAAKhC,iBAAiB,UAAWiC,GAAMA,EAAEC,qBACjEJ,EAAOpC,SAAS+B,IACfA,EAAMzB,iBAAiB,SAAUiC,IAChC,MAAME,EAAQF,EAAEG,cAAcD,MAC9B,IAAKA,GAAUA,GAAmB,KAAVA,EAIvB,OAHAE,aAAaN,GACbA,EAAU,UA9CGvC,SAASC,iBAAiB,yBAClCC,SAASgC,IAChBA,EAAU9B,UAAUS,IAAI,oBACxBiC,YAAW,IAAOZ,EAAUN,UAAY,IAAKE,MA+C5CC,GAAY,EAAME,GAClBY,aAAaN,GACbA,EAAUO,YAAW,MA7CF5B,eAAgBC,EAAMc,GAC3C,IAAKd,IAASc,EAAO,OAErB,MAAMC,EAAYD,EAAME,cAAcY,mBAChC3B,QAAY4B,EAAQ7B,GAE1Be,EAAUN,UAAYR,EACtBc,EAAU9B,UAAUC,OAAO,oBAC3B6B,EAAU9B,UAAUS,IAAI,qBACxBqB,EAAU9B,UAAUS,IAAI,mBAExBqB,EAAU1B,iBAAiB,gBAAiBiC,GAAMV,GAAY,EAAOE,KAmClEgB,CAAcN,EAAOV,KACnB,YAKOhB,EAASC,iBCZQ,IAAUgC,EDavCpB,EAAOqB,UCbgCD,EDaR,qBCZxBE,iBAAiBpD,SAASqD,MAAMC,iBAAiBJ,KDaxDd,KEhEDmB,OAAOC,OAAStC,iBACfH,QAAQC,IAAI,0BAEZhB,SAASyD,gBAAgBC,UAAY1D,SAASyD,gBAAgBC,UAAUC,QAAQ,QAAS,MACrFC,QAAQC,YAAY7D,SAASyD,gBAAgBrD,UAAUS,IAAI,uBAE/DN,IACAU,IAEAF,QAAQC,IAAI"}