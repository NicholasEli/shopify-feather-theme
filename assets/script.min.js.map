{"version":3,"file":"script.min.js","sources":["../scripts/utils.js","../scripts/navigation.js","../scripts/api.js","../scripts/search.js","../scripts/index.js"],"sourcesContent":["/**\n * Gets browser agent type\n * @return { object } { device, browser }\n * */\nexport const getNavigatorAgent = function () {\n\tconst userAgent = navigator.userAgent;\n\tlet device = null;\n\tlet browser = null;\n\n\tif (userAgent.match(/Android/i)) device = 'android';\n\tif (userAgent.match(/BlackBerry/i)) device = 'blackberry';\n\tif (userAgent.match(/iPhone|iPad|iPod/i)) device = 'ios';\n\tif (userAgent.match(/Opera Mini/i)) device = 'opera-mini';\n\tif (userAgent.match(/IEMobile/i)) device = 'ie-mobile';\n\tif (userAgent.match(/IEMobile/i)) device = 'ie-mobile';\n\n\tif (userAgent.indexOf('chrome') > -1 || userAgent.indexOf('Chrome') > -1) {\n\t\tbrowser = 'chrome';\n\t\treturn { browser, device };\n\t}\n\tif (userAgent.indexOf('firefox') > -1 || userAgent.indexOf('Firefox') > -1) {\n\t\tbrowser = 'firefox';\n\t\treturn { browser, device };\n\t}\n\tif (userAgent.indexOf('safari') > -1 || userAgent.indexOf('Safari') > -1) {\n\t\tbrowser = 'safari';\n\t\treturn { browser, device };\n\t}\n\tif (userAgent.indexOf('opr') > -1 || userAgent.indexOf('Opr') > -1) {\n\t\tbrowser = 'opera';\n\t\treturn { browser, device };\n\t}\n\tif (\n\t\tuserAgent.indexOf('edg') > -1 ||\n\t\tuserAgent.indexOf('edge') > -1 ||\n\t\tuserAgent.indexOf('Edg') > -1 ||\n\t\tuserAgent.indexOf('Edge') > -1\n\t) {\n\t\tbrowser = 'edge';\n\t\treturn { browser, device };\n\t}\n\tif (userAgent.indexOf('trident') > -1 || userAgent.indexOf('Trident') > -1) {\n\t\tbrowser = 'internet-explorer';\n\t\treturn { browser, device };\n\t}\n\n\treturn { device, browser };\n};\n\n/**\n * Gets CSS variables for usage\n * @param { string } variable name\n * */\nexport const getCSSVariable = function (variable) {\n\treturn getComputedStyle(document.body).getPropertyValue(variable);\n};\n\n/**\n * Creates intersection observe to detect when element comes into view\n * @params { object } el - dom element to monitor\n * @params { func } callback - returns event when dom element comes in and out of status\n * */\nexport const intersectionObserver = function (el, callback, options = {}) {\n\tif (!el || !callback) return;\n\tconst observer = new IntersectionObserver(callback, options);\n\tobserver.observe(el);\n};\n\n/**\n * Listens for change on element class names\n * @param { object } el - target dom element\n * @param { string } classname - class to listen for toggle on and off\n * @param { func } on - callback for active class\n * @param { func } off - callback for inactive class\n * */\nexport const classObserver = function (el, classname, on, off) {\n\tif (!el || !classname) return;\n\n\tconst observer = new MutationObserver(function (event) {\n\t\tif (el.className.indexOf(classname) > -1 && on) on();\n\t\tif (el.className.indexOf(classname) === -1 && off) off();\n\t});\n\n\tobserver.observe(el, {\n\t\tattributes: true,\n\t\tattributeFilter: ['class'],\n\t\tchildList: false,\n\t\tcharacterData: false,\n\t});\n};\n\n/**\n * Creates aribtrary wait time based on miliseconds\n * @param { int } milliseconds\n * @return { promise } resolves once time has been reached\n * */\nexport const asyncTimeout = function (ms) {\n\treturn new Promise((resolve) => setTimeout(resolve, ms));\n};\n","import { getCSSVariable } from './utils.js';\n\nconst state = {\n\tactive: false,\n\tset setActive(active) {\n\t\tthis.active = active;\n\t},\n};\n\nconst active = 'eather-header__dropdown-item--active';\nconst md = parseInt(getCSSVariable('--md'));\n\nconst clearNavItems = function () {\n\tconst navItems = document.querySelectorAll('[data-nav-item]');\n\tnavItems.forEach((navItem) => navItem.classList.remove(active));\n\tconst menus = document.querySelectorAll('[data-nav]');\n\tmenus.forEach((menu) => menu.classList.remove('active'));\n};\n\nconst clearDropdowns = function () {\n\tconst dropdowns = document.querySelectorAll('[data-nav-dropdown]');\n\tdropdowns.forEach((dropdown) => dropdown.addEventListener('mouseleave', () => clearNavItems()));\n};\n\nconst displayNavItems = function () {\n\tconst navItems = document.querySelectorAll('[data-nav-item]');\n\n\tnavItems.forEach((navItem) => {\n\t\tconst _select = () => {\n\t\t\tconst selector = navItem.getAttribute('data-nav-item');\n\t\t\tconst nav = document.querySelector(`[data-nav=\"${selector}\"]`);\n\t\t\tclearNavItems();\n\t\t\tnavItem.classList.add(active);\n\t\t\tnav.classList.add('active');\n\t\t};\n\t\tnavItem.addEventListener('mouseover', () => _select());\n\t\tnavItem.addEventListener('click', () => _select());\n\t});\n};\n\nconst mobileNavBtn = function () {\n\tconst nav = document.querySelector('[data-nav]');\n\tconst btn = document.querySelector('[data-nav-btn]');\n\tif (!nav || !btn) return;\n\n\tbtn.addEventListener('click', () => {\n\t\tif (!state.active) {\n\t\t\tnav.classList.add('animate__slideInLeft');\n\t\t\tstate.setActive = true;\n\t\t\treturn;\n\t\t}\n\n\t\tnav.classList.remove('animate__slideInLeft');\n\t\tstate.setActive = false;\n\t});\n\n\twindow.addEventListener('resize', () => {\n\t\tif (window.innerWidth > md && state.active) {\n\t\t\tnav.classList.remove('animate__slideInLeft');\n\t\t\tstate.setActive = false;\n\t\t}\n\t});\n};\n\nexport const navigation = function () {\n\tdisplayNavItems();\n\tclearDropdowns();\n\tmobileNavBtn();\n};\n","export const search = {\n\tget: async (term) => {\n\t\ttry {\n\t\t\tconst res = await fetch(\n\t\t\t\t`/search/suggest?q=${term}&resources[type]=product&resources[limit]=4&section_id=predictive-search`\n\t\t\t);\n\n\t\t\tif (!res.ok) {\n\t\t\t\tthrow new Error(res.status);\n\t\t\t}\n\n\t\t\tconst text = await res.text();\n\n\t\t\treturn new DOMParser()\n\t\t\t\t.parseFromString(text, 'text/html')\n\t\t\t\t.querySelector('#shopify-section-predictive-search').innerHTML;\n\t\t} catch (err) {\n\t\t\treturn err;\n\t\t}\n\t},\n};\n","import { search as api } from './api.js';\nimport { getCSSVariable } from './utils.js';\n\nlet time = 0;\n\nconst clearResults = function () {\n\tconst results = document.querySelectorAll('.form__search-results');\n\tresults.forEach((container) => {\n\t\tcontainer.classList.add('animate__fadeOut');\n\t\tsetTimeout(() => (container.innerHTML = ''), time);\n\t});\n};\n\nconst searchResults = async function (term, input) {\n\tif (!term || !input) return;\n\n\tconst container = input.parentElement.nextElementSibling;\n\tconst res = await api.get(term);\n\n\tcontainer.innerHTML = res;\n\tcontainer.classList.remove('animate__fadeOut');\n\tcontainer.classList.add('animate__animated');\n\tcontainer.classList.add('animate__fadeIn');\n\n\tcontainer.addEventListener('animationend', (e) => isSearching(false, input));\n};\n\nconst isSearching = function (searching, input) {\n\tif (!input) return;\n\n\tconst container = input.parentElement;\n\n\tif (searching) {\n\t\tcontainer.classList.add('form__input--searching');\n\t\treturn;\n\t}\n\n\tif (!searching) {\n\t\tcontainer.classList.remove('form__input--searching');\n\t}\n};\n\nconst searchTerm = function () {\n\tconst forms = document.querySelectorAll('.feather-header__search form');\n\tconst inputs = document.querySelectorAll('.feather-header__search input');\n\tlet timeout = null;\n\tforms.forEach((form) => form.addEventListener('submit', (e) => e.preventDefault()));\n\tinputs.forEach((input) => {\n\t\tinput.addEventListener('keyup', (e) => {\n\t\t\tconst value = e.currentTarget.value;\n\t\t\tif (!value || (value && value === '')) {\n\t\t\t\tclearTimeout(timeout);\n\t\t\t\ttimeout = null;\n\t\t\t\tclearResults();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tisSearching(true, input);\n\t\t\tclearTimeout(timeout);\n\t\t\ttimeout = setTimeout(() => {\n\t\t\t\tsearchResults(value, input);\n\t\t\t}, 500);\n\t\t});\n\t});\n};\n\nexport const search = async function () {\n\ttime = parseInt(getCSSVariable('--animate-duration'));\n\tsearchTerm();\n};\n","import { navigation } from './navigation.js';\nimport { search } from './search.js';\n\nwindow.onload = async function () {\n\tconsole.log('--Initializing Scripts');\n\n\tdocument.documentElement.className = document.documentElement.className.replace('no-js', 'js');\n\tif (Shopify.designMode) document.documentElement.classList.add('shopify-design-mode');\n\n\tnavigation();\n\tsearch();\n\n\tconsole.log('--Scripts Loaded');\n};\n"],"names":["getCSSVariable","variable","getComputedStyle","document","body","getPropertyValue","state","active","setActive","this","md","parseInt","clearNavItems","querySelectorAll","forEach","navItem","classList","remove","menu","navigation","_select","selector","getAttribute","nav","querySelector","add","addEventListener","dropdown","btn","window","innerWidth","mobileNavBtn","search","async","term","res","fetch","ok","Error","status","text","DOMParser","parseFromString","innerHTML","err","time","isSearching","searching","input","container","parentElement","searchTerm","forms","inputs","timeout","form","e","preventDefault","value","currentTarget","clearTimeout","setTimeout","nextElementSibling","api","searchResults","onload","console","log","documentElement","className","replace","Shopify","designMode"],"mappings":"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"}